# Humanoid_golf

***하드웨어 설계***
   - https://www.thingiverse.com/thing:356398
   - cubion PLA 필라멘트 구매
   - 라즈베리 파이 및 카메라, 배터리, 서보모터 등 대여

***소프트웨어***
   - 로보베이직 v2.8(캡스톤은 미정 mb ROS)
  
 
<img width="689" alt="스크린샷 2024-05-31 오전 10 53 22" src="https://github.com/blahblahblah-dk/ESW_mltsy/assets/101304352/2381e56f-73a6-4917-a339-4e1d7e446f62">

***센서***
   - 카메라, 초음파 센서



***알고리즘***

   1. 공과 홀의 위치 파악
      - 카메라 + CV
          - 색으로 공과 홀, 골프장 구별
          - or 객체 검출 알고리즘(ex. YOLO, Faster R-CNN)
        
   2. 지형 분석
      1) Grid-based 분할 : 골프 코스를 격자 형태로 분할, 각 격자에 셀의 정보를 저장
           - 각 셀에 대한 경사도, 장애물 등의 정보 저장
      2) 가중치 할당 : 각 셀에 접근 비용을 가중치로 할당
           - 평탄한 지형은 낮은 가중치
           - 경사도나 장애물이 많은 지형은 높은 가중치를 부여.
      3) RGB, HSV 등으로 색상 분석 (Hue, Saturation, Value)

      <지형 분석에 그리드만, 색상 및 객체인식에 HSV만> or <색상 인식과 경로 계획을 그리드로 통합> 
      
      그리드를 사용할 때: 공간을 일정한 크기의 셀로 나누고, 각 셀의 상태(장애물, 빈 공간, 목표)를 파악하여 경로를 탐색. A* 알고리즘 같은 그래프 기반 탐색 알고리즘을 쉽게 적용할 수 있음. (각 셀을 노드로 간주하여 그래프 탐색으로 변환 가능)
      그리드를 사용하지 않을 때: 이미지의 각 픽셀을 직접 다루며, 색상 정보를 바탕으로 경로를 탐색. 각 픽셀 단위로 장애물과 빈 공간을 구분하여 경로를 계획할 수 있음. 계산비용높음
      => 그리트 통합 방식 채택


   3. 경로 최적화
      - 목표 지점(홀)
      - 서브 목표 지점 : 중간 지점을 설정하여 공을 단계적으로 이동
        
      - 경로 탐색 최적화
        - A* 알고리즘
            - 휴리스틱 함수 : 공과 목표 지점 간의 유클리드 거리를 사용하여 각 경로의 비용 계산
       (- Dijkstra 알고리즘 : 장애물이나 지형의 복잡성이 높을 경우 모든 가능한 경로의 비용을 계산)
       ( - 벽 따라 가기 알고리즘(Wall Following Algorithm) ...)

  4. 타격 전략 수립
       - 타격 각도 계산
       - 모터 제어
       - PID 제어

  5. 피드백 및 조정
       - 강화학습 알고리즘(Q-learning, DQN)
       - 파라미터 조정 : 각 타격 후 얻은 데이터를 바탕으로 타격 변수(속도, 각도, 힘 등)을 조정






----------
이미지 읽기 -> 그리드 초기화 -> 이미지 HSV 변환 -> 색상 구분하여 그리드 채우기 -> A* 알고리즘 구현 -> 골프공, 로봇, 홀 위치 탐지 -> 시작점과 목표지점(중간 목표지점) 설정 -> 경로 최적화 계산 -> 타격 각도 계산 -> 로봇이 공으로 이동 -> 로봇이 공을 치기 위한 자세로 이동 -> 타격










Ceremony 
https://youtu.be/pjb-EMjCv5E?si=iwikmoN-_GMnWBAP
